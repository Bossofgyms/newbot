# horoscope_api.py
import aiohttp
import random
from datetime import datetime
import urllib.parse
import hashlib
import re
import json

# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–∏ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –¥–æ—Å—Ç—É–ø–Ω—ã
try:
    from config import HOROSCOPE_SOURCES, ASTRO_API_BASE
    from zodiac import get_zodiac_sign, ZODIAC_API_MAP # <-- –í–ê–ñ–ù–û: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º get_zodiac_sign
except ImportError as e:
    print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ù–µ —É–¥–∞–ª–æ—Å—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥—É–ª–∏: {e}")
    HOROSCOPE_SOURCES = {}
    ASTRO_API_BASE = "https://aztro.sameerkumar.website"
    get_zodiac_sign = lambda d, m: "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"
    ZODIAC_API_MAP = {"–û–≤–µ–Ω": "aries"}

# --- –°–ª–æ–≤–∞—Ä–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ ---
PLANET_INFLUENCES_DETAILED = {
    "–û–≤–µ–Ω": {
        "sun": "‚òÄÔ∏è –°–æ–ª–Ω—Ü–µ –≤ –≤–∞—à–µ–º –∑–Ω–∞–∫–µ –ø—Ä–∏–¥–∞—ë—Ç –≤–∞–º –º–æ—â–Ω—ã–π –∑–∞—Ä—è–¥ —ç–Ω–µ—Ä–≥–∏–∏, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ö–∞—Ä–∏–∑–º—ã. –≠—Ç–æ –æ—Ç–ª–∏—á–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –ø—Ä–æ—è–≤–ª–µ–Ω–∏—è –ª–∏–¥–µ—Ä—Å–∫–∏—Ö –∫–∞—á–µ—Å—Ç–≤.",
        "moon": "üåô –õ—É–Ω–∞ —É—Å–∏–ª–∏–≤–∞–µ—Ç –≤–∞—à—É —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –∏–Ω—Ç—É–∏—Ü–∏—é –∏ –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å. –ü—Ä–∏—Å–ª—É—à–∞–π—Ç–µ—Å—å –∫ —Å–≤–æ–∏–º —á—É–≤—Å—Ç–≤–∞–º, –æ–Ω–∏ –±—É–¥—É—Ç –æ—Å–æ–±–µ–Ω–Ω–æ —è—Å–Ω—ã.",
        "mercury": "‚òøÔ∏è –ú–µ—Ä–∫—É—Ä–∏–π –¥–µ–ª–∞–µ—Ç –≤–∞—à —É–º –æ—Å—Ç—Ä—ã–º –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ–π. –û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤, –Ω–æ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ —Ç–æ–Ω–æ–º.",
        "venus": "‚ôÄÔ∏è –í–µ–Ω–µ—Ä–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—Ç—Ä–∞—Å—Ç–∏ –≤ –ª—é–±–æ–≤—å –∏ —ç—Å—Ç–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ.",
        "mars": "‚ôÇÔ∏è –ú–∞—Ä—Å —É—Å–∏–ª–∏–≤–∞–µ—Ç –≤–∞—à—É –±–æ–µ–≤—É—é —ç–Ω–µ—Ä–≥–∏—é –∏ —Ä–µ—à–∏–º–æ—Å—Ç—å. –ò–¥–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è —Ä–µ—à–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, –Ω–æ –∏–∑–±–µ–≥–∞–π—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Ä–∞–¥–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤."
    },
    "–¢–µ–ª–µ—Ü": {
        "sun": "‚òÄÔ∏è –°–æ–ª–Ω—Ü–µ –≤ –≤–∞—à–µ–º –∑–Ω–∞–∫–µ —É–∫—Ä–µ–ø–ª—è–µ—Ç –≤–∞—à—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–µ–±–µ. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–≤—è–∑—å —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç—å—é.",
        "moon": "üåô –õ—É–Ω–∞ –¥–µ–ª–∞–µ—Ç –≤–∞—à–∏ —ç–º–æ—Ü–∏–∏ –≥–ª—É–±–æ–∫–∏–º–∏ –∏ —Å—Ç–æ–π–∫–∏–º–∏. –í–∞–º –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —á—É–≤—Å—Ç–≤–∞, –Ω–æ –æ–Ω–∏ –∏—Å–∫—Ä–µ–Ω–Ω–∏.",
        "mercury": "‚òøÔ∏è –ú–µ—Ä–∫—É—Ä–∏–π –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–º—É –º—ã—à–ª–µ–Ω–∏—é –∏ —Ç–æ—á–Ω–æ–π –æ—Ü–µ–Ω–∫–µ. –•–æ—Ä–æ—à–∏–π –¥–µ–Ω—å –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–±—Å—É–∂–¥–µ–Ω–∏–π.",
        "venus": "‚ôÄÔ∏è –í–µ–Ω–µ—Ä–∞ –≤ –≤–∞—à–µ–º –∑–Ω–∞–∫–µ - —ç—Ç–æ –ø–∏–∫ —á—É–≤—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ª—é–±–≤–∏ –∫ –∫—Ä–∞—Å–æ—Ç–µ. –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è–º–∏ –∂–∏–∑–Ω–∏.",
        "mars": "‚ôÇÔ∏è –ú–∞—Ä—Å –ø—Ä–∏–¥–∞—ë—Ç –≤–∞–º —É–ø–æ—Ä—Å—Ç–≤–æ –∏ –Ω–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å. –ö–æ–≥–¥–∞ –≤—ã —á—Ç–æ-—Ç–æ –∑–∞—Ç–µ–µ—Ç–µ, –¥–æ–≤–µ–¥—ë—Ç–µ –¥–æ –∫–æ–Ω—Ü–∞, –ø—É—Å—Ç—å –¥–∞–∂–µ –º–µ–¥–ª–µ–Ω–Ω–æ."
    },
    "–ë–ª–∏–∑–Ω–µ—Ü—ã": {
        "sun": "‚òÄÔ∏è –°–æ–ª–Ω—Ü–µ –∞–∫—Ç–∏–≤–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à —É–º –∏ –∫–æ–º–º—É–Ω–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω–Ω—ã–º –¥–ª—è –æ–±–º–µ–Ω–∞ –∏–¥–µ—è–º–∏ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π.",
        "moon": "üåô –õ—É–Ω–∞ –¥–µ–ª–∞–µ—Ç –≤–∞—à–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω—á–∏–≤—ã–º, –Ω–æ —Ç–∞–∫–∂–µ –¥–µ–ª–∞–µ—Ç –∏–Ω—Ç—É–∏—Ü–∏—é –æ—Å—Ç—Ä–æ–π. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –º—ã—Å–ª–∏.",
        "mercury": "‚òøÔ∏è –ú–µ—Ä–∫—É—Ä–∏–π –≤ —Å–≤–æ—ë–º –∑–Ω–∞–∫–µ - –≤–∞—à –¥–æ–º! –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç –Ω–∞ –º–∞–∫—Å–∏–º—É–º–µ, –∏–¥–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è —É—á—ë–±—ã, –ø–∏—Å—å–º–∞ –∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤.",
        "venus": "‚ôÄÔ∏è –í–µ–Ω–µ—Ä–∞ –¥–µ–ª–∞–µ—Ç –≤–∞—Å –æ–±–∞—è—Ç–µ–ª—å–Ω—ã–º –∏ –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–º –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö. –í–∞–º –Ω—É–∂–Ω—ã —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –∏ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ —Å–≤—è–∑–∏.",
        "mars": "‚ôÇÔ∏è –ú–∞—Ä—Å –ø—Ä–∏–¥–∞—ë—Ç –≤–∞–º –≥–∏–±–∫–æ—Å—Ç—å –≤ –¥–µ–π—Å—Ç–≤–∏–∏. –í—ã –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç–µ—Å—å –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏, –Ω–æ –∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞."
    },
    "–†–∞–∫": {
        "sun": "‚òÄÔ∏è –°–æ–ª–Ω—Ü–µ –≤ –≤–∞—à–µ–º –∑–Ω–∞–∫–µ –¥–µ–ª–∞–µ—Ç –≤–∞—à—É –ª–∏—á–Ω–æ—Å—Ç—å –≥–ª—É–±–æ–∫–æ–π –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –Ω–∞—Å—ã—â–µ–Ω–Ω–æ–π. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–∏–ª—å–Ω—É—é —Å–≤—è–∑—å —Å –¥–æ–º–æ–º –∏ —Å–µ–º—å—ë–π.",
        "moon": "üåô –õ—É–Ω–∞ –≤ —Å–≤–æ—ë–º –∑–Ω–∞–∫–µ —É—Å–∏–ª–∏–≤–∞–µ—Ç –≤–∞—à—É —ç–º–ø–∞—Ç–∏—é –∏ –∏–Ω—Ç—É–∏—Ü–∏—é –¥–æ –ø—Ä–µ–¥–µ–ª–∞. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ–∫—Ä—É–∂–∞—é—â–∏—Ö –ø–æ—á—Ç–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏.",
        "mercury": "‚òøÔ∏è –ú–µ—Ä–∫—É—Ä–∏–π –¥–µ–ª–∞–µ—Ç –≤–∞—à–µ –º—ã—à–ª–µ–Ω–∏–µ –±–æ–ª–µ–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º –∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º. –°–ª–æ–≤–∞ –º–æ–≥—É—Ç –∑–∞–¥–µ—Ç—å –≥–ª—É–±–∂–µ –æ–±—ã—á–Ω–æ–≥–æ.",
        "venus": "‚ôÄÔ∏è –í–µ–Ω–µ—Ä–∞ —É—Å–∏–ª–∏–≤–∞–µ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ —É—é—Ç–µ –∏ —Ä–æ–º–∞–Ω—Ç–∏–∫–µ. –í—ã —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫ –≥–ª—É–±–æ–∫–æ–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —Å–≤—è–∑–∏.",
        "mars": "‚ôÇÔ∏è –ú–∞—Ä—Å –¥–µ–ª–∞–µ—Ç –≤–∞—à—É –∑–∞—â–∏—Ç—É —Å–∏–ª—å–Ω–æ–π. –í—ã –±—É–¥–µ—Ç–µ –æ—Ç—Å—Ç–∞–∏–≤–∞—Ç—å —Å–≤–æ–∏—Ö –±–ª–∏–∑–∫–∏—Ö —Å –±–æ–ª—å—à–æ–π —Ä–µ—à–∏–º–æ—Å—Ç—å—é."
    },
    "–õ–µ–≤": {
         "sun": "‚òÄÔ∏è –°–æ–ª–Ω—Ü–µ –≤ –≤–∞—à–µ–º –∑–Ω–∞–∫–µ - —ç—Ç–æ –∫–∞–∫ –ª—É—á–∏ —Å–≤–µ—Ç–∞ –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–¥—Ü–µ! –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è —É–≤–µ—Ä–µ–Ω–Ω–æ, —Ç–≤–æ—Ä—á–µ—Å–∫–∏ –∏ –≥–æ—Ç–æ–≤—ã —Å–∏—è—Ç—å. –≠—Ç–æ –≤–∞—à–µ –≤—Ä–µ–º—è –±—ã—Ç—å –≤ —Ü–µ–Ω—Ç—Ä–µ –≤–Ω–∏–º–∞–Ω–∏—è.",
         "moon": "üåô –õ—É–Ω–∞ —É—Å–∏–ª–∏–≤–∞–µ—Ç –≤–∞—à—É —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —â–µ–¥—Ä–æ—Å—Ç—å –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ –ø—Ä–∏–∑–Ω–∞–Ω–∏–∏. –í–∞—à–∏ —á—É–≤—Å—Ç–≤–∞ —è—Ä–∫–∏ –∏ –æ—Ç–∫—Ä—ã—Ç—ã.",
         "mercury": "‚òøÔ∏è –ú–µ—Ä–∫—É—Ä–∏–π –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–µ—Ç –≤–∞—à—É —Ö–∞—Ä–∏–∑–º–∞—Ç–∏—á–Ω—É—é —Ä–µ—á—å –∏ –ª—é–±–æ–≤—å –∫ –¥—Ä–∞–º–∞—Ç–∏–∑–º—É. –û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å –¥–ª—è —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏ —É–±–µ–∂–¥–µ–Ω–∏—è.",
         "venus": "‚ôÄÔ∏è –í–µ–Ω–µ—Ä–∞ –¥–µ–ª–∞–µ—Ç –≤–∞—Å –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º –∏ —Ä–æ–º–∞–Ω—Ç–∏—á–Ω—ã–º. –ò—â–∏—Ç–µ –ø—Ä–∏–∑–Ω–∞–Ω–∏—è –∏ –∫—Ä–∞—Å–æ—Ç—ã –≤–æ –≤—Å—ë–º.",
         "mars": "‚ôÇÔ∏è –ú–∞—Ä—Å –ø—Ä–∏–¥–∞—ë—Ç –≤–∞–º –≥–æ—Ä–¥–µ–ª–∏–≤—É—é —Ä–µ—à–∏–º–æ—Å—Ç—å. –í—ã –≥–æ—Ç–æ–≤—ã –∑–∞—â–∏—â–∞—Ç—å —Å–≤–æ—é —á–µ—Å—Ç—å –∏ –¥–æ–±–∏–≤–∞—Ç—å—Å—è –ø–æ–±–µ–¥—ã."
    },
    "–î–µ–≤–∞": {
         "sun": "‚òÄÔ∏è –°–æ–ª–Ω—Ü–µ –≤ –≤–∞—à–µ–º –∑–Ω–∞–∫–µ –¥–µ–ª–∞–µ—Ç –≤–∞—à —É–º –æ—Å–æ–±–µ–Ω–Ω–æ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–º –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É - –≤–∞—à–∏–º –¥–≤–∏–≥–∞—Ç–µ–ª–µ–º. –≠—Ç–æ —Ö–æ—Ä–æ—à–∏–π –¥–µ–Ω—å –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.",
         "moon": "üåô –õ—É–Ω–∞ –¥–µ–ª–∞–µ—Ç –≤–∞—à–∏ —ç–º–æ—Ü–∏–∏ –±–æ–ª–µ–µ —Å–¥–µ—Ä–∂–∞–Ω–Ω—ã–º–∏, –Ω–æ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∫ –¥–µ—Ç–∞–ª—è–º. –í—ã –º–æ–∂–µ—Ç–µ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è, –Ω–æ —ç—Ç–æ —Å—Ç–∏–º—É–ª –∫ –¥–µ–π—Å—Ç–≤–∏—é.",
         "mercury": "‚òøÔ∏è –ú–µ—Ä–∫—É—Ä–∏–π –≤ –≤–∞—à–µ–º –∑–Ω–∞–∫–µ - —ç—Ç–æ —Å—É–ø–µ—Ä—Å–∏–ª–∞! –ú–æ–∑–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ–ª–Ω—É—é –º–æ—â–Ω–æ—Å—Ç—å, –∏–¥–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è —É—á—ë–±—ã, –∞–Ω–∞–ª–∏–∑–∞ –∏ —Ä–µ—à–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á.",
         "venus": "‚ôÄÔ∏è –í–µ–Ω–µ—Ä–∞ –ø—Ä–∏–¥–∞—ë—Ç —á—É–≤—Å—Ç–≤–æ —ç—Å—Ç–µ—Ç–∏–∫–∏ –∏ –ª—é–±–≤–∏ –∫ –ø–æ—Ä—è–¥–∫—É. –í—ã —Ü–µ–Ω–∏—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ, –Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è.",
         "mars": "‚ôÇÔ∏è –ú–∞—Ä—Å –¥–µ–ª–∞–µ—Ç –≤–∞—Å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –∏ —Ç—Ä—É–¥–æ–ª—é–±–∏–≤—ã–º. –í—ã —Å–ø–æ—Å–æ–±–Ω—ã –º–Ω–æ–≥–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –¥–æ–≤–æ–¥–∏—Ç—å –¥–µ–ª–∞ –¥–æ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–∞."
    },
    "–í–µ—Å—ã": {
         "sun": "‚òÄÔ∏è –°–æ–ª–Ω—Ü–µ –≤ –≤–∞—à–µ–º –∑–Ω–∞–∫–µ –¥–µ–ª–∞–µ—Ç –≤–∞—à—É –ª–∏—á–Ω–æ—Å—Ç—å –æ–±–∞—è—Ç–µ–ª—å–Ω–æ–π –∏ —Å—Ç—Ä–µ–º—è—â–µ–π—Å—è –∫ –≥–∞—Ä–º–æ–Ω–∏–∏. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è —É–≤–µ—Ä–µ–Ω–Ω–æ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –∏ —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫ –±–∞–ª–∞–Ω—Å—É.",
         "moon": "üåô –õ—É–Ω–∞ —É—Å–∏–ª–∏–≤–∞–µ—Ç –≤–∞—à—É —ç–º–ø–∞—Ç–∏—é –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –≥–∞—Ä–º–æ–Ω–∏–∏. –í—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é –æ–∫—Ä—É–∂–∞—é—â–∏—Ö.",
         "mercury": "‚òøÔ∏è –ú–µ—Ä–∫—É—Ä–∏–π –¥–µ–ª–∞–µ—Ç –≤–∞—Å –æ—Ç–ª–∏—á–Ω—ã–º –¥–∏–ø–ª–æ–º–∞—Ç–æ–º –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ç–æ—Ä–æ–º. –í—ã —É–º–µ–µ—Ç–µ –Ω–∞—Ö–æ–¥–∏—Ç—å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã –∏ –∫—Ä–∞—Å–∏–≤–æ –≤—ã—Ä–∞–∂–∞—Ç—å –º—ã—Å–ª–∏.",
         "venus": "‚ôÄÔ∏è –í–µ–Ω–µ—Ä–∞ –≤ —Å–≤–æ—ë–º –∑–Ω–∞–∫–µ –ø—Ä–∞–≤–∏—Ç! –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ, –ª—é–±–∏—Ç–µ –∫—Ä–∞—Å–æ—Ç—É –∏ –≥–∞—Ä–º–æ–Ω–∏—é –≤–æ –≤—Å—ë–º.",
         "mars": "‚ôÇÔ∏è –ú–∞—Ä—Å –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –∫–æ–ª–µ–±–∞–Ω–∏—è, –Ω–æ —Ç–∞–∫–∂–µ –ø—Ä–∏–¥–∞—ë—Ç –≤–∞–º —Ä–µ—à–∏–º–æ—Å—Ç—å –≤ –∑–∞—â–∏—Ç–µ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏ –∏ —ç—Å—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π."
    },
    "–°–∫–æ—Ä–ø–∏–æ–Ω": {
         "sun": "‚òÄÔ∏è –°–æ–ª–Ω—Ü–µ –≤ –≤–∞—à–µ–º –∑–Ω–∞–∫–µ –¥–µ–ª–∞–µ—Ç –≤–∞—à—É –ª–∏—á–Ω–æ—Å—Ç—å –º–∞–≥–Ω–µ—Ç–∏—á–µ—Å–∫–æ–π –∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–π. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –≥–ª—É–±–æ–∫—É—é —Å–≤—è–∑—å —Å–æ —Å–≤–æ–∏–º–∏ —ç–º–æ—Ü–∏—è–º–∏ –∏ –∏–Ω—Ç—É–∏—Ü–∏–µ–π.",
         "moon": "üåô –õ—É–Ω–∞ —É—Å–∏–ª–∏–≤–∞–µ—Ç –≤–∞—à—É —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –≥–ª—É–±–∏–Ω—É –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏. –í–∞—à–∏ —á—É–≤—Å—Ç–≤–∞ —Å–∏–ª—å–Ω—ã –∏ –ø–æ–¥–ª–∏–Ω–Ω—ã.",
         "mercury": "‚òøÔ∏è –ú–µ—Ä–∫—É—Ä–∏–π –¥–µ–ª–∞–µ—Ç –≤–∞—à —É–º –ø—Ä–æ–Ω–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º –∏ —Å–∫–ª–æ–Ω–Ω—ã–º –∫ –∞–Ω–∞–ª–∏–∑—É. –í—ã –≤–∏–¥–∏—Ç–µ —Å–∫—Ä—ã—Ç—ã–µ –º–æ—Ç–∏–≤—ã –∏ —Å–º—ã—Å–ª—ã.",
         "venus": "‚ôÄÔ∏è –í–µ–Ω–µ—Ä–∞ –ø—Ä–∏–¥–∞—ë—Ç —Å—Ç—Ä–∞—Å—Ç—å –∏ –≥–ª—É–±–∏–Ω—É –≤ –ª—é–±–≤–∏ –∏ —á—É–≤—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –í–∞—à–∏ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —Å–∏–ª—å–Ω—ã –∏ –ø—Ä–µ–¥–∞–Ω—ã.",
         "mars": "‚ôÇÔ∏è –ú–∞—Ä—Å —É—Å–∏–ª–∏–≤–∞–µ—Ç –≤–∞—à—É –≤–æ–ª—é –∏ —Ä–µ—à–∏–º–æ—Å—Ç—å. –í—ã —Å–ø–æ—Å–æ–±–Ω—ã –Ω–∞ –º–Ω–æ–≥–æ–µ —Ä–∞–¥–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏, –ø—Ä–æ—è–≤–ª—è—è –æ–≥—Ä–æ–º–Ω—É—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–∏–ª—É."
    },
    "–°—Ç—Ä–µ–ª–µ—Ü": {
         "sun": "‚òÄÔ∏è –°–æ–ª–Ω—Ü–µ –≤ –≤–∞—à–µ–º –∑–Ω–∞–∫–µ –Ω–∞–ø–æ–ª–Ω—è–µ—Ç –≤–∞—Å –æ–ø—Ç–∏–º–∏–∑–º–æ–º –∏ –∂–∞–∂–¥–æ–π –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è —Å–≤–æ–±–æ–¥–Ω–æ –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω–Ω–æ.",
         "moon": "üåô –õ—É–Ω–∞ –¥–µ–ª–∞–µ—Ç –≤–∞—à–∏ —ç–º–æ—Ü–∏–∏ —Å–≤–æ–±–æ–¥–Ω—ã–º–∏ –∏ –ø—Ä—è–º—ã–º–∏. –í—ã –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∂–∏–≤–∞–µ—Ç–µ —á—É–≤—Å—Ç–≤–∞ –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤–ø–µ—Ä—ë–¥.",
         "mercury": "‚òøÔ∏è –ú–µ—Ä–∫—É—Ä–∏–π –¥–µ–ª–∞–µ—Ç –≤–∞—à —É–º –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–º –∏ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–º. –û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –æ–±–º–µ–Ω–∞ –∏–¥–µ—è–º–∏.",
         "venus": "‚ôÄÔ∏è –í–µ–Ω–µ—Ä–∞ –ø—Ä–∏–¥–∞—ë—Ç —á—É–≤—Å—Ç–≤–æ —Ä–æ–º–∞–Ω—Ç–∏–∫–∏ –∏ –ª—é–±–≤–∏ –∫ –∫—Ä–∞—Å–æ—Ç–µ, —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è–º–∏ –∏ –∫—É–ª—å—Ç—É—Ä–æ–π.",
         "mars": "‚ôÇÔ∏è –ú–∞—Ä—Å –¥–µ–ª–∞–µ—Ç –≤–∞—Å –ø—Ä–µ–¥–ø—Ä–∏–∏–º—á–∏–≤—ã–º –∏ —Ä–µ—à–∏—Ç–µ–ª—å–Ω—ã–º. –í—ã –≥–æ—Ç–æ–≤—ã –∫ –Ω–æ–≤—ã–º –Ω–∞—á–∏–Ω–∞–Ω–∏—è–º –∏ –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏—é –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π."
    },
    "–ö–æ–∑–µ—Ä–æ–≥": {
         "sun": "‚òÄÔ∏è –°–æ–ª–Ω—Ü–µ –≤ –≤–∞—à–µ–º –∑–Ω–∞–∫–µ –¥–µ–ª–∞–µ—Ç –≤–∞—à—É –ª–∏—á–Ω–æ—Å—Ç—å –∞–º–±–∏—Ü–∏–æ–∑–Ω–æ–π –∏ —Ü–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª—ë–Ω–Ω–æ–π. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–∏–ª—É –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.",
         "moon": "üåô –õ—É–Ω–∞ –¥–µ–ª–∞–µ—Ç –≤–∞—à–∏ —ç–º–æ—Ü–∏–∏ —Å–¥–µ—Ä–∂–∞–Ω–Ω—ã–º–∏, –Ω–æ –≥–ª—É–±–æ–∫–∏–º–∏. –í–∞—à–∏ —á—É–≤—Å—Ç–≤–∞ —Å–≤—è–∑–∞–Ω—ã —Å —á—É–≤—Å—Ç–≤–æ–º –¥–æ–ª–≥–∞ –∏ –∑–∞–±–æ—Ç–æ–π –æ –±—É–¥—É—â–µ–º.",
         "mercury": "‚òøÔ∏è –ú–µ—Ä–∫—É—Ä–∏–π –¥–µ–ª–∞–µ—Ç –≤–∞—à–µ –º—ã—à–ª–µ–Ω–∏–µ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–º –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º. –í—ã —Ü–µ–Ω–∏—Ç–µ —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—É—é –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É.",
         "venus": "‚ôÄÔ∏è –í–µ–Ω–µ—Ä–∞ –ø—Ä–∏–¥–∞—ë—Ç —á—É–≤—Å—Ç–≤–æ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –≤ —Ç—Ä–∞–¥–∏—Ü–∏—è—Ö, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö.",
         "mars": "‚ôÇÔ∏è –ú–∞—Ä—Å —É—Å–∏–ª–∏–≤–∞–µ—Ç –≤–∞—à—É –Ω–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ —Ç–µ—Ä–ø–µ–Ω–∏–µ. –í—ã —Å–ø–æ—Å–æ–±–Ω—ã –¥–æ–ª–≥–æ –∏ —É–ø–æ—Ä–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Ä–∞–¥–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö —Ü–µ–ª–µ–π."
    },
    "–í–æ–¥–æ–ª–µ–π": {
         "sun": "‚òÄÔ∏è –°–æ–ª–Ω—Ü–µ –≤ –≤–∞—à–µ–º –∑–Ω–∞–∫–µ –¥–µ–ª–∞–µ—Ç –≤–∞—à—É –ª–∏—á–Ω–æ—Å—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –æ—Ç –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∏–¥–µ–π.",
         "moon": "üåô –õ—É–Ω–∞ –¥–µ–ª–∞–µ—Ç –≤–∞—à–∏ —ç–º–æ—Ü–∏–∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º–∏ –∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –Ω–∞ –∫–æ–ª–ª–µ–∫—Ç–∏–≤. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–≤—è–∑—å —Å –±—É–¥—É—â–∏–º –∏ –≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–º–∏ –∏–¥–µ–∞–ª–∞–º–∏.",
         "mercury": "‚òøÔ∏è –ú–µ—Ä–∫—É—Ä–∏–π –¥–µ–ª–∞–µ—Ç –≤–∞—à —É–º –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–º –∏ —Å–∫–ª–æ–Ω–Ω—ã–º –∫ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–º—É –º—ã—à–ª–µ–Ω–∏—é. –û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –∏–¥–µ–π.",
         "venus": "‚ôÄÔ∏è –í–µ–Ω–µ—Ä–∞ –ø—Ä–∏–¥–∞—ë—Ç —á—É–≤—Å—Ç–≤–æ –ª—é–±–≤–∏ –∫ —Å–≤–æ–±–æ–¥–µ –∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –∫—Ä–∞—Å–æ—Ç–µ. –í—ã —Ü–µ–Ω–∏—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö.",
         "mars": "‚ôÇÔ∏è –ú–∞—Ä—Å –¥–µ–ª–∞–µ—Ç –≤–∞—Å —Ä–µ—à–∏—Ç–µ–ª—å–Ω—ã–º –≤ –æ—Ç—Å—Ç–∞–∏–≤–∞–Ω–∏–∏ —Å–≤–æ–∏—Ö —É–±–µ–∂–¥–µ–Ω–∏–π –∏ —Ä–µ—Ñ–æ—Ä–º. –í—ã –±–æ—Ä–µ—Ç–µ—Å—å –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –ø–µ—Ä–µ–º–µ–Ω—ã."
    },
    "–†—ã–±—ã": {
         "sun": "‚òÄÔ∏è –°–æ–ª–Ω—Ü–µ –≤ –≤–∞—à–µ–º –∑–Ω–∞–∫–µ –¥–µ–ª–∞–µ—Ç –≤–∞—à—É –ª–∏—á–Ω–æ—Å—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–π. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –≥–ª—É–±–æ–∫—É—é —Å–≤—è–∑—å —Å —ç–º–æ—Ü–∏—è–º–∏ –∏ –∏—Å–∫—É—Å—Å—Ç–≤–æ–º.",
         "moon": "üåô –õ—É–Ω–∞ —É—Å–∏–ª–∏–≤–∞–µ—Ç –≤–∞—à—É —ç–º–ø–∞—Ç–∏—é –¥–æ –ø—Ä–µ–¥–µ–ª–∞. –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —ç–º–æ—Ü–∏–∏ –æ–∫—Ä—É–∂–∞—é—â–∏—Ö, –∫–∞–∫ —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ.",
         "mercury": "‚òøÔ∏è –ú–µ—Ä–∫—É—Ä–∏–π –¥–µ–ª–∞–µ—Ç –≤–∞—à —É–º –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º –∏ –≤–æ–æ–±—Ä–∞–∂–∞–µ–º—ã–º. –í—ã –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —á–µ—Ä–µ–∑ –æ–±—Ä–∞–∑—ã –∏ —á—É–≤—Å—Ç–≤–∞.",
         "venus": "‚ôÄÔ∏è –í–µ–Ω–µ—Ä–∞ —É—Å–∏–ª–∏–≤–∞–µ—Ç –≤–∞—à—É —á—É–≤—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ –∏ –ª—é–±–æ–≤—å –∫ –∏—Å–∫—É—Å—Å—Ç–≤—É. –í—ã –∏—â–µ—Ç–µ –¥—É—Ö–æ–≤–Ω—É—é –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –∫—Ä–∞—Å–æ—Ç—É.",
         "mars": "‚ôÇÔ∏è –ú–∞—Ä—Å –¥–µ–ª–∞–µ—Ç –≤–∞—à—É —ç–Ω–µ—Ä–≥–∏—é —Ç–µ–∫—É—á–µ–π –∏ –ø–æ–¥—á–∏–Ω—ë–Ω–Ω–æ–π –≤–∞—à–∏–º –∏–¥–µ–∞–ª–∞–º. –í—ã –¥–µ–π—Å—Ç–≤—É–µ—Ç–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –∏ —Å —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ–º."
    },
}
MOON_PHASE_DESCRIPTIONS = {
    "–ù–æ–≤–æ–ª—É–Ω–∏–µ": "üåë –ù–æ–≤–æ–ª—É–Ω–∏–µ - –≤—Ä–µ–º—è –Ω–æ–≤—ã—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏–π, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞–±–æ—Ç—ã –∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ü–µ–ª–µ–π. –≠–Ω–µ—Ä–≥–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è, –∑–∞—Ä—è–∂–∞–π—Ç–µ—Å—å –∏–¥–µ—è–º–∏.",
    "–ú–æ–ª–æ–¥–∞—è –ª—É–Ω–∞": "üåí –ú–æ–ª–æ–¥–∞—è –ª—É–Ω–∞ - —Ñ–∞–∑–∞ —Ä–æ—Å—Ç–∞ –∏ –ø–µ—Ä–≤—ã—Ö —à–∞–≥–æ–≤. –ù–∞—á–∏–Ω–∞–π—Ç–µ –≤–æ–ø–ª–æ—â–∞—Ç—å –∏–¥–µ–∏ –≤ –∂–∏–∑–Ω—å, —ç–Ω–µ—Ä–≥–∏—è –Ω–∞–±–∏—Ä–∞–µ—Ç —Å–∏–ª—É.",
    "–ü–µ—Ä–≤–∞—è —á–µ—Ç–≤–µ—Ä—Ç—å": "üåì –ü–µ—Ä–≤–∞—è —á–µ—Ç–≤–µ—Ä—Ç—å - –≤—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏–π –∏ –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏—è –ø–µ—Ä–≤—ã—Ö –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π. –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å.",
    "–ü—Ä–∏–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞": "üåî –ü—Ä–∏–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞ - –ø—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Ä–∞–±–æ—Ç—É, —ç–Ω–µ—Ä–≥–∏—è —Å–∏–ª—å–Ω–∞. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤.",
    "–ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ": "üåï –ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ - –ø–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏ –∏ —ç–º–æ—Ü–∏–π. –í–∏–¥–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã –ø–µ—Ä–µ–≥—Ä—É–∑—ã. –•–æ—Ä–æ—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.",
    "–£–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞": "üåñ –£–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞ - —Ñ–∞–∑–∞ —Å–ø–∞–¥–∞. –ù–∞—á–∏–Ω–∞–π—Ç–µ –æ—Ç–ø—É—Å–∫–∞—Ç—å, –∑–∞–≤–µ—Ä—à–∞—Ç—å –¥–µ–ª–∞, —É–º–µ–Ω—å—à–∞–π—Ç–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.",
    "–ü–æ—Å–ª–µ–¥–Ω—è—è —á–µ—Ç–≤–µ—Ä—Ç—å": "üåó –ü–æ—Å–ª–µ–¥–Ω—è—è —á–µ—Ç–≤–µ—Ä—Ç—å - –≤—Ä–µ–º—è –æ—á–∏—â–µ–Ω–∏—è –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏. –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω–æ–π, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.",
    "–°—Ç–∞—Ä–∞—è –ª—É–Ω–∞": "üåò –°—Ç–∞—Ä–∞—è –ª—É–Ω–∞ - –≥–ª—É–±–æ–∫–∏–π –æ—Ç–¥—ã—Ö –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∞–Ω–∞–ª–∏–∑ –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º —Ü–∏–∫–ª–æ–º. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–µ–¥–∏—Ç–∞—Ü–∏–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è."
}
# –°–ª–æ–≤–∞—Ä—å –ø—Ä–∏—Ä–æ–¥–Ω—ã—Ö –∫–∞–º–Ω–µ–π –¥–ª—è –∑–Ω–∞–∫–æ–≤ –∑–æ–¥–∏–∞–∫–∞
ZODIAC_STONES = {
    "–û–≤–µ–Ω": "–Ø—à–º–∞",
    "–¢–µ–ª–µ—Ü": "–°–µ—Ä–¥–æ–ª–∏–∫",
    "–ë–ª–∏–∑–Ω–µ—Ü—ã": "–ê–≥–∞—Ç",
    "–†–∞–∫": "–ò–∑—É–º—Ä—É–¥",
    "–õ–µ–≤": "–û–Ω–∏–∫—Å",
    "–î–µ–≤–∞": "–°–∞–ø—Ñ–∏—Ä",
    "–í–µ—Å—ã": "–û–ø–∞–ª",
    "–°–∫–æ—Ä–ø–∏–æ–Ω": "–¢–æ–ø–∞–∑",
    "–°—Ç—Ä–µ–ª–µ—Ü": "–ê–º–µ—Ç–∏—Å—Ç",
    "–ö–æ–∑–µ—Ä–æ–≥": "–ì—Ä–∞–Ω–∞—Ç",
    "–í–æ–¥–æ–ª–µ–π": "–ì–µ–ª–∏–æ–¥–æ—Ä (–∑–æ–ª–æ—Ç–∏—Å—Ç—ã–π –±–µ—Ä–∏–ª–ª)",
    "–†—ã–±—ã": "–ê–∫–≤–∞–º–∞—Ä–∏–Ω"
}
# –ö—ç—à –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –Ω–∞ –¥–µ–Ω—å
horoscope_cache = {}
# --- –ö–æ–Ω–µ—Ü —Å–ª–æ–≤–∞—Ä–µ–π –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ ---

# --- –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ü–û–õ–£–ß–ï–ù–ò–Ø –ì–û–†–û–°–ö–û–ü–ê ---
async def get_daily_horoscope(sign: str, birth_day: int = None, birth_month: int = None) -> dict:
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
    Args:
        sign (str): –ó–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
        birth_day (int, optional): –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. Defaults to None.
        birth_month (int, optional): –ú–µ—Å—è—Ü —Ä–æ–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. Defaults to None.
    """
    # –°–æ–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å —É—á–µ—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏
    cache_key = f"{sign}_{datetime.now().strftime('%Y-%m-%d_%H')}"
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
    if cache_key in horoscope_cache:
        return horoscope_cache[cache_key]

    # 1. –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–ª–∞–Ω–µ—Ç–∞—Ö –∏ –∏—Ö –ø–æ–ª–æ–∂–µ–Ω–∏–∏ (–Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è!)
    planetary_info = await get_planetary_positions(birth_day, birth_month)
    # 2. –ü–æ–ª—É—á–∞–µ–º –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –∏–∑ API
    astro_forecast = await get_astrological_forecast(sign)
    # 3. –ü–æ–ª—É—á–∞–µ–º –≤–ª–∏—è–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç –Ω–∞ –∑–Ω–∞–∫ (–±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ)
    planetary_influences = PLANET_INFLUENCES_DETAILED.get(sign, {})
    # 4. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ç–µ–∫—Å—Ç –≥–æ—Ä–æ—Å–∫–æ–ø–∞
    enhanced_description = await generate_enhanced_forecast_text(sign, astro_forecast, planetary_info, planetary_influences)
    # 5. –ö–æ–º–±–∏–Ω–∏—Ä—É–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, –ø–æ–º–µ—â–∞—è —É–ª—É—á—à–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ description
    result = {
        "sign": sign,
        "date": datetime.now().strftime("%d.%m.%Y"),
        "planetary_positions": planetary_info,
        "forecast": astro_forecast, # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ API
        "planetary_influences": planetary_influences,
        "description": enhanced_description, # –£–ª—É—á—à–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
        "compatibility": astro_forecast.get('compatibility', ''),
        "mood": astro_forecast.get('mood', ''),
        "color": astro_forecast.get('color', ''),
        "lucky_number": astro_forecast.get('lucky_number', ''),
        "lucky_time": astro_forecast.get('lucky_time', '')
    }
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—ç—à
    horoscope_cache[cache_key] = result
    return result

# --- –ö–û–ù–ï–¶ –û–°–ù–û–í–ù–û–ô –§–£–ù–ö–¶–ò–ò ---

# --- –§–£–ù–ö–¶–ò–ò –î–õ–Ø –£–õ–£–ß–®–ï–ù–ù–û–ì–û –ì–û–†–û–°–ö–û–ü–ê ---
async def generate_enhanced_forecast_text(sign: str, forecast_data: dict, planetary_info: dict, influences: dict) -> str:
    """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–≤–æ–¥–æ–º"""
    # --- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ ---
    forecast_text = f"üîÆ –ì–æ—Ä–æ—Å–∫–æ–ø –¥–ª—è {sign} –Ω–∞ {datetime.now().strftime('%d.%m.%Y')}\n"
    
    # 1. –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≥–Ω–æ–∑ –∏–∑ API (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —Å–µ—Ä–≤–∏—Å—É)
    api_description = forecast_data.get('description', '').strip()
    
    # –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å, —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
    if api_description and len(api_description) > 10:
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–µ–Ω –ª–∏ –ø–µ—Ä–µ–≤–æ–¥ (–ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–≤—ã–µ 100 —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã)
        if not re.search(r'[–∞-—è–ê-–Ø]', api_description[:100]):
            # –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ–∫—Å—Ç, –ø–µ—Ä–µ–≤–æ–¥–∏–º
            translated_description = await translate_text(api_description)
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–≤–æ–¥–∞
            if translated_description and len(translated_description.strip()) > 10:
                # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ –ø–µ—Ä–µ–≤–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã
                if re.search(r'[–∞-—è–ê-–Ø]', translated_description[:100]):
                    api_description = translated_description.strip()
                else:
                    print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ü–µ—Ä–µ–≤–æ–¥ –¥–ª—è {sign} –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç")
            else:
                print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –¥–ª—è {sign}, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç")
        forecast_text += f"‚ú® –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –¥–ª—è {sign}:\n{api_description}\n"
    else:
        # –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å–æ–≤—Å–µ–º –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–æ–ª–±—ç–∫
        fallback_forecasts = {
            "–û–≤–µ–Ω": "–°–µ–≥–æ–¥–Ω—è –≤–∞—à–∞ —ç–Ω–µ—Ä–≥–∏—è –Ω–∞ –ø–∏–∫–µ! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ –¥–ª—è –Ω–∞—á–∞–ª–∞ –≤–∞–∂–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤. –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã –≤ –ª–∏—á–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö - –∏–∑–±–µ–≥–∞–π—Ç–µ –∏–º–ø—É–ª—å—Å–∏–≤–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.",
            "–¢–µ–ª–µ—Ü": "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤—è—Ç—Å—è –≤–∞–º —Å–µ–≥–æ–¥–Ω—è. –î–æ–≤–µ—Ä—è–π—Ç–µ —Å–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏ –≤ –¥–µ–Ω–µ–∂–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∑–¥–æ—Ä–æ–≤—å–µ.",
            "–ë–ª–∏–∑–Ω–µ—Ü—ã": "–û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å –¥–ª—è –æ–±—â–µ–Ω–∏—è –∏ –æ–±—É—á–µ–Ω–∏—è. –í–∞—à–∏ –∏–¥–µ–∏ –±—É–¥—É—Ç –æ—Å–æ–±–µ–Ω–Ω–æ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω—ã. –ò–∑–±–µ–≥–∞–π—Ç–µ –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç–∏ - —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Ç–µ—Å—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–º.",
            "–†–∞–∫": "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Å–∏–ª–∏–≤–∞–µ—Ç—Å—è —Å–µ–≥–æ–¥–Ω—è. –ü—Ä–∏—Å–ª—É—à–∞–π—Ç–µ—Å—å –∫ —Å–≤–æ–∏–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –≥–æ–ª–æ—Å–∞–º. –î–æ–º –∏ —Å–µ–º—å—è —Ç—Ä–µ–±—É—é—Ç –≤–∞—à–µ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è.",
            "–õ–µ–≤": "–í–∞—à–∞ —Ö–∞—Ä–∏–∑–º–∞ –Ω–∞ –≤—ã—Å–æ—Ç–µ! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—ë –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π. –ù–µ –±–æ–π—Ç–µ—Å—å –ø—Ä–æ—è–≤–ª—è—Ç—å –ª–∏–¥–µ—Ä—Å–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞, –Ω–æ —É—á–∏—Ç—ã–≤–∞–π—Ç–µ –¥—Ä—É–≥–∏—Ö.",
            "–î–µ–≤–∞": "–°–µ–≥–æ–¥–Ω—è –∏–¥–µ–∞–ª—å–Ω—ã–π –¥–µ–Ω—å –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –í–∞—à–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø–æ–º–æ–≥—É—Ç —Ä–µ—à–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –¥–µ—Ç–∞–ª–∏.",
            "–í–µ—Å—ã": "–ë–∞–ª–∞–Ω—Å –∏ –≥–∞—Ä–º–æ–Ω–∏—è - –≤–∞—à–∏ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ —Å–µ–≥–æ–¥–Ω—è. –ò—â–∏—Ç–µ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã –≤ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö. –ö—Ä–∞—Å–æ—Ç–∞ –∏ –∏—Å–∫—É—Å—Å—Ç–≤–æ –≤–¥–æ—Ö–Ω–æ–≤—è—Ç –≤–∞—Å.",
            "–°–∫–æ—Ä–ø–∏–æ–Ω": "–ì–ª—É–±–æ–∫–∏–µ —ç–º–æ—Ü–∏–∏ –∏ –∏–Ω—Ç—É–∏—Ü–∏—è –±—É–¥—É—Ç –≤–∞—à–∏–º–∏ —Å–æ—é–∑–Ω–∏–∫–∞–º–∏. –°–µ–≥–æ–¥–Ω—è –≤—ã —Å–ø–æ—Å–æ–±–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–∫—Ä—ã—Ç—ã–µ –º–æ—Ç–∏–≤—ã. –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã —Å —Ä–µ–≤–Ω–æ—Å—Ç—å—é.",
            "–°—Ç—Ä–µ–ª–µ—Ü": "–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –∏ –Ω–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è –∂–¥—É—Ç –≤–∞—Å —Å–µ–≥–æ–¥–Ω—è. –†–∞—Å—à–∏—Ä—å—Ç–µ —Å–≤–æ–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã. –ò–∑–±–µ–≥–∞–π—Ç–µ –∏–º–ø—É–ª—å—Å–∏–≤–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π.",
            "–ö–æ–∑–µ—Ä–æ–≥": "–í–∞—à–∞ —Ü–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª—ë–Ω–Ω–æ—Å—Ç—å –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –ø—Ä–∏–Ω–µ—Å—É—Ç —É—Å–ø–µ—Ö–∏. –°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Ç–µ—Å—å –Ω–∞ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö —Ü–µ–ª—è—Ö. –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ –ª–∏—á–Ω–æ–π –∂–∏–∑–Ω–∏.",
            "–í–æ–¥–æ–ª–µ–π": "–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∏–¥–µ–∏ –∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ - –≤–∞—à–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã —Å–µ–≥–æ–¥–Ω—è. –†–∞–±–æ—Ç–∞–π—Ç–µ –Ω–∞–¥ –≥—Ä—É–ø–ø–æ–≤—ã–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏. –ë—É–¥—å—Ç–µ –æ—Ç–∫—Ä—ã—Ç—ã –Ω–æ–≤–æ–º—É.",
            "–†—ã–±—ã": "–í–∞—à–∞ –∏–Ω—Ç—É–∏—Ü–∏—è –æ—Å–æ–±–µ–Ω–Ω–æ –æ—Å—Ç—Ä–∞ —Å–µ–≥–æ–¥–Ω—è. –î–æ–≤–µ—Ä—è–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –≥–æ–ª–æ—Å—É. –¢–≤–æ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã –±—É–¥—É—Ç —É—Å–ø–µ—à–Ω—ã. –ò–∑–±–µ–≥–∞–π—Ç–µ —á—Ä–µ–∑–º–µ—Ä–Ω–æ–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏."
        }
        forecast_text += f"‚ú® –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –¥–ª—è {sign}:\n{fallback_forecasts.get(sign, '–°–µ–≥–æ–¥–Ω—è –∑–≤–µ–∑–¥—ã —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –≤–∞–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω—ã –≤ –≤–∞—à–µ–π –∂–∏–∑–Ω–∏. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã –∏ –Ω–µ —É–ø—É—Å–∫–∞–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤—è—Ç—Å—è –≤–∞–º —Å–µ–≥–æ–¥–Ω—è.')}\n"
    
    # 2. –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–æ–∑–∏—Ü–∏–∏
    sun_sign = planetary_info.get('sun_sign', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ')
    moon_phase = planetary_info.get('moon_phase', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ')
    mercury_retrograde = planetary_info.get('mercury_retrograde', False)
    # –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
    real_sun_sign = await get_real_sun_sign()
    real_moon_phase = await get_real_moon_phase()
    real_mercury_retrograde = await check_real_mercury_retrograde()
    forecast_text += "üåå –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è —Å–µ–≥–æ–¥–Ω—è:\n"
    forecast_text += f"‚Ä¢ ‚òÄÔ∏è –°–æ–ª–Ω—Ü–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∑–Ω–∞–∫–µ {real_sun_sign} (—Å–µ–≥–æ–¥–Ω—è)\n"
    forecast_text += f"‚Ä¢ {MOON_PHASE_DESCRIPTIONS.get(real_moon_phase, f'‚Ä¢ üåï –õ—É–Ω–∞ –≤ —Ñ–∞–∑–µ {real_moon_phase}')}\n"
    if real_mercury_retrograde:
        forecast_text += "‚Ä¢ ‚òøÔ∏è –ú–µ—Ä–∫—É—Ä–∏–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–µ—Ç—Ä–æ–≥—Ä–∞–¥–Ω–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏! –ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã –≤ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è—Ö, –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–∞–∂–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –æ—Ç–ª–æ–∂–∏—Ç–µ –∑–∞–ø—É—Å–∫ –Ω–æ–≤—ã—Ö IT-–ø—Ä–æ–µ–∫—Ç–æ–≤.\n"
    forecast_text += "\n"
    
    # 3. –í–ª–∏—è–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç –Ω–∞ –∑–Ω–∞–∫ - –£–ë–†–ê–ù–û –ø–æ –∑–∞–ø—Ä–æ—Å—É
    # if influences:  # influences - —ç—Ç–æ —Å–ª–æ–≤–∞—Ä—å —Å –≤–ª–∏—è–Ω–∏—è–º–∏ –ø–ª–∞–Ω–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, PLANET_INFLUENCES_DETAILED[sign]
    #     forecast_text += f"\nü™ê –í–ª–∏—è–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç –Ω–∞ {sign}:\n"
    #     # –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ influences - —ç—Ç–æ —Å–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–∞–º–∏ –ø–ª–∞–Ω–µ—Ç
    #     # –û–±—ã—á–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–ª–∏—è–Ω–∏—è –°–æ–ª–Ω—Ü–∞, –õ—É–Ω—ã, –ú–µ—Ä–∫—É—Ä–∏—è, –í–µ–Ω–µ—Ä—ã, –ú–∞—Ä—Å–∞
    #     planet_symbols = {'sun': '‚òÄÔ∏è', 'moon': 'üåô', 'mercury': '‚òøÔ∏è', 'venus': '‚ôÄÔ∏è', 'mars': '‚ôÇÔ∏è'}
    #     
    #     for planet_key in ['sun', 'moon', 'mercury', 'venus', 'mars']: # –ü–æ—Ä—è–¥–æ–∫ –≤–∞–∂–µ–Ω
    #         desc = influences.get(planet_key)
    #         if desc:
    #             symbol = planet_symbols.get(planet_key, '')
    #             # –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–æ–π –≤–ª–∏—è–Ω–∏—è –ø–ª–∞–Ω–µ—Ç—ã
    #             forecast_text += f"{symbol} {desc}\n" 
    # forecast_text += "\n" # –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ—Å–ª–µ –≤–ª–∏—è–Ω–∏—è –ø–ª–∞–Ω–µ—Ç

    # 4. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π)
    recommendations = []
    if real_mercury_retrograde:
        recommendations.append("‚Ä¢ –ü–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤—Å—é –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏.")
        recommendations.append("‚Ä¢ –ù–µ –ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ –≤–∞–∂–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —Å—Ä–æ—á–Ω–æ.")
        recommendations.append("‚Ä¢ –û—Ç–ª–æ–∂–∏—Ç–µ –∫—Ä—É–ø–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏.")
    if "–ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ" in real_moon_phase:
        recommendations.append("‚Ä¢ –≠–º–æ—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω—ã–º–∏, –Ω–∞–π–¥–∏—Ç–µ —Å–ø–æ—Å–æ–± —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è.")
        recommendations.append("‚Ä¢ –•–æ—Ä–æ—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤.")
    elif "–ù–æ–≤–æ–ª—É–Ω–∏–µ" in real_moon_phase:
        recommendations.append("‚Ä¢ –û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ü–µ–ª–µ–π.")
        recommendations.append("‚Ä¢ –°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Ç–µ—Å—å –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞–±–æ—Ç–µ.")
    # –ü–æ–ª—É—á–∞–µ–º –ø—Ä–∏—Ä–æ–¥–Ω—ã–π –∫–∞–º–µ–Ω—å
    zodiac_stone = ZODIAC_STONES.get(sign, "–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω")
    if recommendations:
        forecast_text += "üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –¥–µ–Ω—å:\n"
        forecast_text += "\n".join(recommendations) + "\n"
        # –í–º–µ—Å—Ç–æ —Å—á–∞—Å—Ç–ª–∏–≤—ã—Ö —á–∏—Å–µ–ª –∏ –≤—Ä–µ–º–µ–Ω–∏, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞–º–µ–Ω—å
        forecast_text += f"\nü™® –í–∞—à –ø—Ä–∏—Ä–æ–¥–Ω—ã–π –∫–∞–º–µ–Ω—å: {zodiac_stone}\n"
    else:
        # –ï—Å–ª–∏ –Ω–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, –≤—ã–≤–æ–¥–∏–º —Ç–æ–ª—å–∫–æ –∫–∞–º–µ–Ω—å
        forecast_text += f"ü™® –ü—Ä–∏—Ä–æ–¥–Ω—ã–π –∫–∞–º–µ–Ω—å {sign}: {zodiac_stone}\n"
    
    return forecast_text.strip()

# --- –ö–û–ù–ï–¶ –§–£–ù–ö–¶–ò–ô –î–õ–Ø –£–õ–£–ß–®–ï–ù–ù–û–ì–û –ì–û–†–û–°–ö–û–ü–ê ---

# --- –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ü–û–õ–£–ß–ï–ù–ò–Ø –ê–°–¢–†–û–õ–û–ì–ò–ß–ï–°–ö–û–ô –ò–ù–§–û–†–ú–ê–¶–ò–ò ---
async def get_planetary_positions(birth_day: int = None, birth_month: int = None) -> dict:
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —É—Å–ª–æ–≤–∏–π.
    –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω—ã birth_day –∏ birth_month, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–Ω–∞–∫ –°–æ–ª–Ω—Ü–∞ –¥–ª—è –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è.
    """
    try:
        current_date = datetime.now().strftime("%Y-%m-%d")
        # –ò–°–ü–†–ê–í–õ–ï–ù–û: –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∑–Ω–∞–∫ –°–æ–ª–Ω—Ü–∞ –¥–ª—è –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è, –∞ –Ω–µ –¥–ª—è —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è
        sun_sign = "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"
        if birth_day is not None and birth_month is not None:
            sun_sign = get_zodiac_sign(birth_day, birth_month) # <-- –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
        planetary_data = {
            "date": current_date,
            "sun_sign": sun_sign, # <-- –¢–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–Ω–∞–∫
            "moon_phase": await get_moon_phase(),
            "mercury_retrograde": await check_mercury_retrograde(),
        }
        return planetary_data
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–æ–ª–æ–∂–µ–Ω–∏–π –ø–ª–∞–Ω–µ—Ç: {e}")
        return get_default_planetary_info()

async def get_real_sun_sign() -> str:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞–∫–∞ –°–æ–ª–Ω—Ü–∞ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏"""
    try:
        current_date = datetime.now()
        current_day = current_date.day
        current_month = current_date.month
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –∑–Ω–∞–∫ –°–æ–ª–Ω—Ü–∞ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
        real_sun_sign = get_zodiac_sign(current_day, current_month)
        return real_sun_sign
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞–∫–∞ –°–æ–ª–Ω—Ü–∞: {e}")
        return "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"

async def get_real_moon_phase() -> str:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–π —Ñ–∞–∑—ã –õ—É–Ω—ã –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏"""
    try:
        # –†–µ–∞–ª—å–Ω–∞—è —Ñ–∞–∑–∞ –õ—É–Ω—ã –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–Ω—è –º–µ—Å—è—Ü–∞
        day_of_month = datetime.now().day
        phases = ["–ù–æ–≤–æ–ª—É–Ω–∏–µ", "–ú–æ–ª–æ–¥–∞—è –ª—É–Ω–∞", "–ü–µ—Ä–≤–∞—è —á–µ—Ç–≤–µ—Ä—Ç—å", "–ü—Ä–∏–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞", 
                 "–ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ", "–£–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞", "–ü–æ—Å–ª–µ–¥–Ω—è—è —á–µ—Ç–≤–µ—Ä—Ç—å", "–°—Ç–∞—Ä–∞—è –ª—É–Ω–∞"]
        # –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞–∑—ã (–ø—Ä–∏–º–µ—Ä–Ω–æ–µ)
        if day_of_month <= 3:
            return "–ù–æ–≤–æ–ª—É–Ω–∏–µ"
        elif day_of_month <= 7:
            return "–ú–æ–ª–æ–¥–∞—è –ª—É–Ω–∞"
        elif day_of_month <= 10:
            return "–ü–µ—Ä–≤–∞—è —á–µ—Ç–≤–µ—Ä—Ç—å"
        elif day_of_month <= 14:
            return "–ü—Ä–∏–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞"
        elif day_of_month <= 17:
            return "–ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ"
        elif day_of_month <= 21:
            return "–£–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞"
        elif day_of_month <= 24:
            return "–ü–æ—Å–ª–µ–¥–Ω—è—è —á–µ—Ç–≤–µ—Ä—Ç—å"
        elif day_of_month <= 28:
            return "–°—Ç–∞—Ä–∞—è –ª—É–Ω–∞"
        else:
            return "–ù–æ–≤–æ–ª—É–Ω–∏–µ"
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ä–µ–∞–ª—å–Ω–æ–π —Ñ–∞–∑—ã –õ—É–Ω—ã: {e}")
        return "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"

async def check_real_mercury_retrograde() -> bool:
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ú–µ—Ä–∫—É—Ä–∏—è –≤ —Ä–µ—Ç—Ä–æ–≥—Ä–∞–¥–Ω–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏"""
    try:
        # –†–µ–∞–ª—å–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã —Ä–µ—Ç—Ä–æ–≥—Ä–∞–¥–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –ú–µ—Ä–∫—É—Ä–∏—è (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–µ)
        current_date = datetime.now()
        current_month = current_date.month
        current_day = current_date.day
        # –ü—Ä–∏–º–µ—Ä–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã —Ä–µ—Ç—Ä–æ–≥—Ä–∞–¥–∞ –ú–µ—Ä–∫—É—Ä–∏—è –≤ 2024 –≥–æ–¥—É
        mercury_retrograde_periods = [
            (1, 1, 1, 25),    # 1-25 —è–Ω–≤–∞—Ä—è
            (5, 14, 6, 4),    # 14 –º–∞—è - 4 –∏—é–Ω—è
            (9, 6, 9, 26),    # 6-26 —Å–µ–Ω—Ç—è–±—Ä—è
            (12, 30, 12, 31)  # 30-31 –¥–µ–∫–∞–±—Ä—è (–ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–ª–µ–¥—É—é—â–∏–π –≥–æ–¥)
        ]
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É
        for start_month, start_day, end_month, end_day in mercury_retrograde_periods:
            if current_month == start_month and start_day <= current_day <= end_day:
                return True
            if current_month == end_month and current_day <= end_day:
                return True
        # –ï—Å–ª–∏ —ç—Ç–æ –¥–µ–∫–∞–±—Ä—å –∏ –ø–æ—Å–ª–µ 30 —á–∏—Å–ª–∞, –ø—Ä–æ–≤–µ—Ä—è–µ–º —è–Ω–≤–∞—Ä—å —Å–ª–µ–¥—É—é—â–µ–≥–æ –≥–æ–¥–∞
        if current_month == 12 and current_day >= 30:
            return True
        return False
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ú–µ—Ä–∫—É—Ä–∏—è: {e}")
        return False

async def get_moon_phase() -> str:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–∑—ã –õ—É–Ω—ã"""
    try:
        day_of_month = datetime.now().day
        phases = ["–ù–æ–≤–æ–ª—É–Ω–∏–µ", "–ú–æ–ª–æ–¥–∞—è –ª—É–Ω–∞", "–ü–µ—Ä–≤–∞—è —á–µ—Ç–≤–µ—Ä—Ç—å", "–ü—Ä–∏–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞", 
                 "–ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ", "–£–±—ã–≤–∞—é—â–∞—è –ª—É–Ω–∞", "–ü–æ—Å–ª–µ–¥–Ω—è—è —á–µ—Ç–≤–µ—Ä—Ç—å", "–°—Ç–∞—Ä–∞—è –ª—É–Ω–∞"]
        phase_index = (day_of_month - 1) // 4
        return phases[min(phase_index, len(phases) - 1)]
    except:
        return "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"

async def check_mercury_retrograde() -> bool:
    """–ü—Ä–æ–≤–µ—Ä–∫–∞, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –ú–µ—Ä–∫—É—Ä–∏–π –≤ —Ä–µ—Ç—Ä–æ–≥—Ä–∞–¥–Ω–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏"""
    try:
        # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - –ú–µ—Ä–∫—É—Ä–∏–π –±—ã–≤–∞–µ—Ç –≤ —Ä–µ—Ç—Ä–æ–≥—Ä–∞–¥–µ –ø—Ä–∏–º–µ—Ä–Ω–æ 3 —Ä–∞–∑–∞ –≤ –≥–æ–¥
        today = datetime.now()
        retrograde_periods = [
            (1, 10, 2, 3),   # –Ø–Ω–≤–∞—Ä—å-–§–µ–≤—Ä–∞–ª—å
            (5, 10, 6, 3),   # –ú–∞–π-–ò—é–Ω—å  
            (9, 10, 10, 3),  # –°–µ–Ω—Ç—è–±—Ä—å-–û–∫—Ç—è–±—Ä—å
        ]
        for start_month, start_day, end_month, duration_weeks in retrograde_periods:
            if today.month == start_month and start_day <= today.day <= start_day + duration_weeks * 7:
                return True
            if today.month == end_month and today.day <= duration_weeks * 7:
                return True
        return False
    except:
        return False

def get_default_planetary_info() -> dict:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"""
    return {
        "date": datetime.now().strftime("%d.%m.%Y"),
        "sun_sign": "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",
        "moon_phase": "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",
        "mercury_retrograde": False,
    }

async def get_astrological_forecast(sign: str) -> dict:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –¥–∞—Ç–µ"""
    try:
        sign_api = ZODIAC_API_MAP.get(sign, "aries")
        current_date = datetime.now().strftime("%Y-%m-%d")
        current_time = datetime.now().strftime("%H:%M:%S")
        # –°–æ–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
        unique_param = hashlib.md5(f"{sign_api}_{current_date}_{current_time}".encode()).hexdigest()[:12]
        timeout = aiohttp.ClientTimeout(total=15)
        async with aiohttp.ClientSession(timeout=timeout) as session:
            url = f"{ASTRO_API_BASE}" # –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ —ç—Ç–æ "https://aztro.sameerkumar.website"
            params = {
                "sign": sign_api, 
                "day": "today",
                "_": unique_param,  # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
                "t": current_time   # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –≤—Ä–µ–º–µ–Ω–∏
            }
            # –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –ª—É—á—à–µ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
            headers = {
                "User-Agent": "AstroBot/1.0",
                "Cache-Control": "no-cache",
                "Accept": "application/json",
                "Content-Type": "application/x-www-form-urlencoded",
                "Accept-Language": "ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"
            }
            async with session.post(url, params=params, headers=headers) as response:
                if response.status == 200:
                    try:
                        data = await response.json()
                        description = data.get("description", "")
                        # –ü—Ä–∏–Ω–∏–º–∞–µ–º –ª—é–±–æ–π –ø—Ä–æ–≥–Ω–æ–∑ –∫–∞–∫ –µ—Å—Ç—å, —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
                        if description and not re.search(r'[–∞-—è–ê-–Ø]', description[:100]):
                            translated_description = await translate_text(description)
                            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–≤–æ–¥–∞
                            if translated_description and len(translated_description.strip()) > 10:
                                # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ –ø–µ—Ä–µ–≤–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã
                                if re.search(r'[–∞-—è–ê-–Ø]', translated_description[:100]):
                                    description = translated_description.strip()
                                else:
                                    print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ü–µ—Ä–µ–≤–æ–¥ –¥–ª—è {sign} –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—ã")
                            else:
                                print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –¥–ª—è {sign}")
                        return {
                            "description": description,
                            "compatibility": data.get("compatibility", ""),
                            "mood": data.get("mood", ""),
                            "color": data.get("color", ""),
                            "lucky_number": data.get("lucky_number", ""),
                            "lucky_time": data.get("lucky_time", ""),
                            "date_range": data.get("date_range", "")
                        }
                    except Exception as json_error:
                        print(f"–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON –¥–ª—è {sign}: {json_error}")
                        # –ü—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç
                        text = await response.text()
                        if text:
                            try:
                                # –ü–æ–ø—ã—Ç–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–µ–∫—Å—Ç–∞ –∫–∞–∫ JSON
                                import json as json_lib
                                data = json_lib.loads(text)
                                description = data.get("description", "")
                                # –ü–µ—Ä–µ–≤–æ–¥–∏–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
                                if description and not re.search(r'[–∞-—è–ê-–Ø]', description[:100]):
                                    translated_description = await translate_text(description)
                                    if translated_description and len(translated_description.strip()) > 10:
                                        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ –ø–µ—Ä–µ–≤–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã
                                        if re.search(r'[–∞-—è–ê-–Ø]', translated_description[:100]):
                                            description = translated_description.strip()
                                        else:
                                            print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ü–µ—Ä–µ–≤–æ–¥ –¥–ª—è {sign} –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—ã")
                                    else:
                                        print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –¥–ª—è {sign}")
                                return {
                                    "description": description,
                                    "compatibility": data.get("compatibility", ""),
                                    "mood": data.get("mood", ""),
                                    "color": data.get("color", ""),
                                    "lucky_number": data.get("lucky_number", ""),
                                    "lucky_time": data.get("lucky_time", ""),
                                    "date_range": data.get("date_range", "")
                                }
                            except:
                                # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–µ–∫—Å—Ç –∫–∞–∫ –µ—Å—Ç—å, —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
                                clean_text = text.strip()
                                if len(clean_text) > 10:
                                    if not re.search(r'[–∞-—è–ê-–Ø]', clean_text[:100]):
                                        clean_text = await translate_text(clean_text)
                                        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–≤–æ–¥–∞
                                        if clean_text and len(clean_text.strip()) > 10:
                                            # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ –ø–µ—Ä–µ–≤–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã
                                            if re.search(r'[–∞-—è–ê-–Ø]', clean_text[:100]):
                                                clean_text = clean_text.strip()
                                            else:
                                                print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ü–µ—Ä–µ–≤–æ–¥ –¥–ª—è {sign} –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç")
                                        else:
                                            print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –¥–ª—è {sign}, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç")
                                    return {
                                        "description": clean_text,
                                        "compatibility": "–í—Å–µ –∑–Ω–∞–∫–∏",
                                        "mood": "–ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π",
                                        "color": "—Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–π",
                                        "lucky_number": "7",
                                        "lucky_time": f"{random.randint(9, 20)}:{random.choice(['00', '15', '30', '45'])}",
                                        "date_range": "–°–µ–≥–æ–¥–Ω—è"
                                    }
                                else:
                                    return get_default_forecast(sign)
                        return get_default_forecast(sign)
                else:
                    print(f"API –≤–µ—Ä–Ω—É–ª —Å—Ç–∞—Ç—É—Å {response.status} –¥–ª—è –∑–Ω–∞–∫–∞ {sign}")
                    # –ü—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
                    alt_forecast = await get_alternative_forecast(sign)
                    if alt_forecast and alt_forecast.get("description") and len(alt_forecast["description"]) > 10:
                        return alt_forecast
                    return get_default_forecast(sign)
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ –¥–ª—è {sign}: {e}")
        # –ü—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
        alt_forecast = await get_alternative_forecast(sign)
        if alt_forecast and alt_forecast.get("description") and len(alt_forecast["description"]) > 10:
            return alt_forecast
        return get_default_forecast(sign)

def get_default_forecast(sign: str) -> dict:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"""
    moods = ["–ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π", "—ç–Ω–µ—Ä–≥–∏—á–Ω—ã–π", "—Å–ø–æ–∫–æ–π–Ω—ã–π", "–≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–π"]
    colors = ["–∫—Ä–∞—Å–Ω—ã–π", "—Å–∏–Ω–∏–π", "–∑–µ–ª–µ–Ω—ã–π", "—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π", "–∑–æ–ª–æ—Ç–æ–π"]
    return {
        "description": f"{sign}, —Å–µ–≥–æ–¥–Ω—è –ø–ª–∞–Ω–µ—Ç—ã —Å–æ–∑–¥–∞—é—Ç –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è. –°–ª–µ–¥—É–π—Ç–µ —Å–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏ –∏ –Ω–µ –±–æ–π—Ç–µ—Å—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è.",
        "compatibility": "–í—Å–µ –∑–Ω–∞–∫–∏",
        "mood": random.choice(moods),
        "color": random.choice(colors),
        "lucky_number": str(random.randint(1, 100)),
        "lucky_time": f"{random.randint(9, 20)}:{random.choice(['00', '15', '30', '45'])}",
        "date_range": "–°–µ–≥–æ–¥–Ω—è"
    }

# --- –ö–û–ù–ï–¶ –§–£–ù–ö–¶–ò–ô –î–õ–Ø –ü–û–õ–£–ß–ï–ù–ò–Ø –ê–°–¢–†–û–õ–û–ì–ò–ß–ï–°–ö–û–ô –ò–ù–§–û–†–ú–ê–¶–ò–ò ---

# --- –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ì–ï–ù–ï–†–ê–¶–ò–ò –°–°–´–õ–ö–ò –ù–ê –ù–ê–¢–ê–õ–¨–ù–£–Æ –ö–ê–†–¢–£ ---
async def get_natal_chart_info(birth_date: str, birth_time: str = None, birth_place: str = None) -> dict:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç–µ –∏ URL –¥–ª—è –∫–Ω–æ–ø–∫–∏"""
    parts = birth_date.split('.')
    if len(parts) != 3:
        return {"error": "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã"}
    day, month, year = parts
    natal_chart_url = generate_astro_seek_url(day, month, year, birth_time, birth_place)
    info_lines = []
    info_lines.append("üìä –ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞")
    info_lines.append(f"üéÇ –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è: {birth_date}")
    if birth_time and birth_time != '-':
        info_lines.append(f"‚è∞ –í—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è: {birth_time}")
    else:
        info_lines.append("‚è∞ –í—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è: 00:00 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)")
    if birth_place and birth_place != '-':
        info_lines.append(f"üìç –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è: {birth_place}")
    else:
        info_lines.append("üìç –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è: –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)")
    info_lines.append("") # –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Ä–µ–¥ —Å–æ–≤–µ—Ç–∞–º–∏
    info_lines.append("üí° –°–æ–≤–µ—Ç—ã:")
    info_lines.append("‚Ä¢ –î–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ —É–∫–∞–∂–∏—Ç–µ —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è")
    info_lines.append("‚Ä¢ –ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ –≤—Ä–µ–º—è, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 12:00")
    info_lines.append("‚Ä¢ –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–æ–≤")
    info_lines.append("‚Ä¢ –î–õ–Ø –ë–û–õ–ï–ï –¢–û–ß–ù–û–ì–û –ü–û–ù–ò–ú–ê–ù–ò–Ø –°–í–û–ï–ì–û –î–ê–õ–¨–ù–ï–ô–®–ï–ì–û –ü–£–¢–ò –û–ë–†–ê–¢–ò–¢–ï–°–¨ –ö –ù–ê–®–ò–ú –°–ü–ï–¶–ò–ê–õ–ò–°–¢–ê–ú @Eva_evgenivna99")
    return {
        "info_text": "\n".join(info_lines),
        "url": natal_chart_url
    }

def generate_astro_seek_url(day: str, month: str, year: str, birth_time: str = None, birth_place: str = None) -> str:
    """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è URL –¥–ª—è astro-seek.com –ø–æ –æ–±—Ä–∞–∑—Ü—É –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    hour = "00"
    minute = "00"
    city_display_name = "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä"
    city_url_name = "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä"
    country_code = "RU"
    latitude_degrees = "45"
    latitude_minutes = "3"
    latitude_direction = "0"
    longitude_degrees = "38"
    longitude_minutes = "59"
    longitude_direction = "0"
    if birth_time and birth_time != '-':
        time_parts = birth_time.split(':')
        if len(time_parts) >= 2:
            try:
                hour = f"{int(time_parts[0]):02d}"
                minute = f"{int(time_parts[1]):02d}"
            except ValueError:
                print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ '{birth_time}'. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.")
    if birth_place and birth_place != '-':
        city_display_name = birth_place
        city_url_name = birth_place
    # --- –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ city_url_name –∏ city_display_name –Ω–µ None ---
    if not city_url_name:
        city_url_name = "Krasnodar" # –ê–Ω–≥–ª–∏–π—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è URL
    if not city_display_name:
        city_display_name = "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä"
    # --- –ö–û–ù–ï–¶ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø ---
    encoded_city_url = urllib.parse.quote(city_url_name)
    encoded_city_hidden = urllib.parse.quote(city_display_name)
    # –ò—Å–ø—Ä–∞–≤–ª–µ–Ω base_url (—É–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã –≤ –∫–æ–Ω—Ü–µ)
    base_url = "https://ru.astro-seek.com/vychislit-natalnaya-karta/"
    params = [
        "edit_input_data=1",
        "natal_input=1",
        "send_calculation=1",
        f"narozeni_den={int(day)}",
        f"narozeni_mesic={int(month)}",
        f"narozeni_rok={year}",
        f"narozeni_hodina={hour}",
        f"narozeni_minuta={minute}",
        f"narozeni_city={encoded_city_url}%2C+{country_code}",
        f"narozeni_mesto_hidden={encoded_city_hidden}",
        f"narozeni_stat_hidden={country_code}",
        "narozeni_podstat_kratky_hidden=",
        f"narozeni_sirka_stupne={latitude_degrees}",
        f"narozeni_sirka_minuty={latitude_minutes}",
        f"narozeni_sirka_smer={latitude_direction}",
        f"narozeni_delka_stupne={longitude_degrees}",
        f"narozeni_delka_minuty={longitude_minutes}",
        f"narozeni_delka_smer={longitude_direction}",
        "narozeni_timezone_form=auto",
        "narozeni_timezone_dst_form=auto",
        "house_system=placidus",
        "hid_fortune=1",
        "hid_fortune_check=on",
        "hid_chiron=1",
        "hid_chiron_check=on",
        "hid_lilith=1",
        "hid_lilith_check=on",
        "hid_uzel=1",
        "hid_uzel_check=on",
        "tolerance=1",
        "tolerance_paral=1.2"
    ]
    full_url = f"{base_url}?{'&'.join(params)}"
    return full_url

# --- –ö–û–ù–ï–¶ –§–£–ù–ö–¶–ò–ô –î–õ–Ø –ì–ï–ù–ï–†–ê–¶–ò–ò –°–°–´–õ–ö–ò –ù–ê –ù–ê–¢–ê–õ–¨–ù–£–Æ –ö–ê–†–¢–£ ---

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞ (–≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
def clear_horoscope_cache():
    """–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤"""
    global horoscope_cache
    horoscope_cache.clear()
    print("–ö—ç—à –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤ –æ—á–∏—â–µ–Ω")

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–∞ —Å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º (–±–µ–∑ –∫—ç—à–∞)
async def get_fresh_horoscope(sign: str, birth_day: int = None, birth_month: int = None) -> dict:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–µ–∂–µ–≥–æ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫—ç—à–∞"""
    # –í—Ä–µ–º–µ–Ω–Ω–æ –æ—á–∏—â–∞–µ–º –∫—ç—à –¥–ª—è —ç—Ç–æ–≥–æ –∑–Ω–∞–∫–∞
    cache_key = f"{sign}_{datetime.now().strftime('%Y-%m-%d_%H')}"
    if cache_key in horoscope_cache:
        del horoscope_cache[cache_key]
    # –ü–æ–ª—É—á–∞–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–≥–Ω–æ–∑
    return await get_daily_horoscope(sign, birth_day, birth_month)

# --- –§–£–ù–ö–¶–ò–ò –ü–ï–†–ï–í–û–î–ê –¢–ï–ö–°–¢–ê ---
async def translate_text(text: str) -> str:
    """–ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–Ω–ª–∞–π–Ω-–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–æ–≤"""
    if not text or len(text.strip()) < 2:
        return text
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç —É–∂–µ –Ω–∞ —Ü–µ–ª–µ–≤–æ–º —è–∑—ã–∫–µ (–ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–≤—ã–µ 100 —Å–∏–º–≤–æ–ª–æ–≤)
    if re.search(r'[–∞-—è–ê-–Ø]', text[:100]):
        return text
    
    # –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≤–æ–¥–∞
    methods = [
        translate_with_google_api,
        translate_with_yandex_api,
        translate_with_mymemory_api,
        translate_with_libretranslate_api
    ]
    
    for method in methods:
        try:
            translated = await method(text)
            if translated and len(translated.strip()) > 5:
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ –ø–µ—Ä–µ–≤–æ–¥ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã
                if re.search(r'[–∞-—è–ê-–Ø]', translated[:100]):
                    return translated.strip()
                else:
                    print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: {method.__name__} –≤–µ—Ä–Ω—É–ª —Ç–µ–∫—Å—Ç –±–µ–∑ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã")
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ —á–µ—Ä–µ–∑ {method.__name__}: {e}")
            continue
    
    # –ï—Å–ª–∏ –≤—Å–µ –º–µ—Ç–æ–¥—ã –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
    print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π")
    return text

async def translate_with_google_api(text: str) -> str:
    """–ü–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ Google Translate API"""
    try:
        timeout = aiohttp.ClientTimeout(total=10)
        async with aiohttp.ClientSession(timeout=timeout) as session:
            # –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π Google Translate API
            url = "https://translate.googleapis.com/translate_a/single"
            params = {
                "client": "gtx",
                "sl": "en",
                "tl": "ru",
                "dt": "t",
                "q": text
            }
            async with session.get(url, params=params) as response:
                if response.status == 200:
                    data = await response.json()
                    if data and len(data) > 0 and data[0]:
                        translated_text = ""
                        for item in data[0]:
                            if item and len(item) > 0 and item[0]:
                                translated_text += item[0]
                        if translated_text and len(translated_text.strip()) > 5:
                            return translated_text.strip()
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ Google Translate: {e}")
    return ""

async def translate_with_yandex_api(text: str) -> str:
    """–ü–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ Yandex Translate API"""
    try:
        timeout = aiohttp.ClientTimeout(total=10)
        async with aiohttp.ClientSession(timeout=timeout) as session:
            # –ò—Å–ø–æ–ª—å–∑—É–µ–º Yandex Translate —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
            url = "https://translate.yandex.net/api/v1/tr.json/translate"
            params = {
                "lang": "en-ru",
                "text": text,
                "srv": "tr-text",
                "id": f"{hashlib.md5(str(datetime.now().timestamp()).encode()).hexdigest()[:12]}-0-0"
            }
            async with session.get(url, params=params) as response:
                if response.status == 200:
                    data = await response.json()
                    if "text" in data and data["text"]:
                        translated_text = data["text"][0]
                        if len(translated_text.strip()) > 5:
                            return translated_text.strip()
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ Yandex Translate: {e}")
    return ""

async def translate_with_mymemory_api(text: str) -> str:
    """–ü–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ MyMemory API"""
    try:
        timeout = aiohttp.ClientTimeout(total=10)
        async with aiohttp.ClientSession(timeout=timeout) as session:
            url = "https://api.mymemory.translated.net/get"
            params = {
                "q": text,
                "langpair": "en|ru"
            }
            async with session.get(url, params=params) as response:
                if response.status == 200:
                    data = await response.json()
                    if "responseData" in data and "translatedText" in data["responseData"]:
                        translated_text = data["responseData"]["translatedText"]
                        if len(translated_text.strip()) > 5:
                            return translated_text.strip()
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ MyMemory Translate: {e}")
    return ""

async def translate_with_libretranslate_api(text: str) -> str:
    """–ü–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ LibreTranslate API"""
    try:
        # –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ LibreTranslate —Å–µ—Ä–≤–µ—Ä—ã
        servers = [
            "https://libretranslate.de/translate",
            "https://translate.argosopentech.com/translate",
            "https://libretranslate.pussthecat.org/translate"
        ]
        for server in servers:
            try:
                timeout = aiohttp.ClientTimeout(total=10)
                async with aiohttp.ClientSession(timeout=timeout) as session:
                    payload = {
                        "q": text,
                        "source": "en",
                        "target": "ru",
                        "format": "text"
                    }
                    async with session.post(server, json=payload) as response:
                        if response.status == 200:
                            data = await response.json()
                            if "translatedText" in data:
                                translated_text = data["translatedText"]
                                if len(translated_text.strip()) > 5:
                                    return translated_text.strip()
            except Exception as e:
                print(f"–û—à–∏–±–∫–∞ LibreTranslate ({server}): {e}")
                continue
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ LibreTranslate: {e}")
    return ""

def detect_language(text: str) -> str:
    """
    –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ —Ç–µ–∫—Å—Ç–∞
    Args:
        text (str): –¢–µ–∫—Å—Ç –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞
    Returns:
        str: –ö–æ–¥ —è–∑—ã–∫–∞ ("ru", "en" –∏–ª–∏ "unknown")
    """
    if not text or len(text.strip()) < 2:
        return "unknown"
    # –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—É—Å—Å–∫–∏—Ö –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö –±—É–∫–≤
    russian_chars = len(re.findall(r'[–∞-—è–ê-–Ø]', text[:100]))
    english_chars = len(re.findall(r'[a-zA-Z]', text[:100]))
    if russian_chars > english_chars and russian_chars > 5:
        return "ru"
    elif english_chars > russian_chars and english_chars > 5:
        return "en"
    else:
        return "unknown"

# --- –ö–û–ù–ï–¶ –§–£–ù–ö–¶–ò–ô –ü–ï–†–ï–í–û–î–ê –¢–ï–ö–°–¢–ê ---

# --- –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ---
async def translate_horoscope_text(english_text: str) -> str:
    """
    –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤
    Args:
        english_text (str): –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ
    Returns:
        str: –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
    """
    if not english_text or len(english_text.strip()) < 5:
        return english_text
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç —É–∂–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
    if re.search(r'[–∞-—è–ê-–Ø]', english_text[:100]):
        return english_text
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–≤–æ–¥–∞
    translated = await translate_text(english_text)
    return translated if translated else english_text

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞
async def test_translation(text: str) -> str:
    """
    –¢–µ—Å—Ç–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –ø–µ—Ä–µ–≤–æ–¥–∞
    Args:
        text (str): –¢–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞
    Returns:
        str: –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
    """
    print(f"–û—Ä–∏–≥–∏–Ω–∞–ª: {text}")
    translated = await translate_text(text)
    print(f"–ü–µ—Ä–µ–≤–æ–¥: {translated}")
    return translated

# --- –ö–û–ù–ï–¶ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–• –§–£–ù–ö–¶–ò–ô ---

# --- –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–• –ò–°–¢–û–ß–ù–ò–ö–û–í ---
async def get_alternative_forecast(sign: str) -> dict:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–∞ –∏–∑ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞"""
    try:
        sign_api = ZODIAC_API_MAP.get(sign, "aries").lower()
        timestamp = int(datetime.now().timestamp())
        # –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
        urls = [
            f"https://horoscope-app-api.vercel.app/api/v1/get-horoscope/daily?sign={sign_api}&day=TODAY&_={timestamp}",
            f"https://horoscope-api-v2.vercel.app/api/horoscope/{sign_api}",
        ]
        for url in urls:
            try:
                timeout = aiohttp.ClientTimeout(total=10)
                async with aiohttp.ClientSession(timeout=timeout) as session:
                    headers = {
                        "User-Agent": "AstroBot/1.0",
                        "Accept": "application/json",
                        "Accept-Language": "ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"
                    }
                    async with session.get(url, headers=headers) as response:
                        if response.status == 200:
                            try:
                                data = await response.json()
                                # –ò—â–µ–º —Ç–µ–∫—Å—Ç –ø—Ä–æ–≥–Ω–æ–∑–∞ –≤ —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—è—Ö
                                horoscope_text = (
                                    data.get('data', {}).get('horoscope_data') or
                                    data.get('horoscope') or
                                    data.get('description') or
                                    data.get('prediction') or
                                    ""
                                )
                                if horoscope_text and len(horoscope_text) > 10:
                                    # –ü–µ—Ä–µ–≤–æ–¥–∏–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
                                    if not re.search(r'[–∞-—è–ê-–Ø]', horoscope_text[:100]):
                                        translated_text = await translate_text(horoscope_text)
                                        if translated_text and len(translated_text.strip()) > 10:
                                            # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ –ø–µ—Ä–µ–≤–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã
                                            if re.search(r'[–∞-—è–ê-–Ø]', translated_text[:100]):
                                                horoscope_text = translated_text.strip()
                                            else:
                                                print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ü–µ—Ä–µ–≤–æ–¥ –¥–ª—è {sign} –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—ã")
                                        else:
                                            print(f"–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –¥–ª—è {sign}")
                                    return {
                                        "description": horoscope_text,
                                        "compatibility": data.get("compatibility", "") or "–í—Å–µ –∑–Ω–∞–∫–∏",
                                        "mood": data.get("mood", "") or "–ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π",
                                        "color": data.get("color", "") or "—Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–π",
                                        "lucky_number": data.get("lucky_number", "") or "7",
                                        "lucky_time": data.get("lucky_time", "") or f"{random.randint(9, 20)}:{random.choice(['00', '15', '30', '45'])}",
                                        "date_range": data.get("date_range", "") or "–°–µ–≥–æ–¥–Ω—è"
                                    }
                            except Exception as e:
                                print(f"–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON –∏–∑ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–ª—è {sign}: {e}")
                                continue
            except Exception as e:
                print(f"–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–º—É –∏—Å—Ç–æ—á–Ω–∏–∫—É {url} –¥–ª—è {sign}: {e}")
                continue
        return get_default_forecast(sign)
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ –¥–ª—è {sign}: {e}")
        return get_default_forecast(sign)

# --- –ö–û–ù–ï–¶ –§–£–ù–ö–¶–ò–ô –î–õ–Ø –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–• –ò–°–¢–û–ß–ù–ò–ö–û–í ---

# --- –§–£–ù–ö–¶–ò–ò –ü–†–û–í–ï–†–ö–ò –ö–ê–ß–ï–°–¢–í–ê –ü–ï–†–ï–í–û–î–ê ---
async def is_good_translation(text: str) -> bool:
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–≤–æ–¥–∞"""
    if not text or len(text.strip()) < 10:
        return False
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ä—É—Å—Å–∫–∏—Ö –±—É–∫–≤
    if not re.search(r'[–∞-—è–ê-–Ø]', text[:100]):
        return False
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
    meaningless_patterns = [
        r'^[^\w\s]+$',  # –¢–æ–ª—å–∫–æ –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è
        r'^\s*$',       # –¢–æ–ª—å–∫–æ –ø—Ä–æ–±–µ–ª—ã
        r'^[0-9\s]+$',  # –¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã –∏ –ø—Ä–æ–±–µ–ª—ã
    ]
    for pattern in meaningless_patterns:
        if re.match(pattern, text):
            return False
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–ª–∏–Ω—É –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
    if len(text.strip()) < 20:
        return False
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–∏–º–≤–æ–ª—ã
    if re.search(r'(.)\1{10,}', text):  # –ü–æ–≤—Ç–æ—Ä –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –±–æ–ª–µ–µ 10 —Ä–∞–∑
        return False
    return True

# --- –ö–û–ù–ï–¶ –§–£–ù–ö–¶–ò–ô –ü–†–û–í–ï–†–ö–ò –ö–ê–ß–ï–°–¢–í–ê –ü–ï–†–ï–í–û–î–ê ---